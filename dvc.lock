schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/chickenClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      md5: 6cba82c1e3a109a1e6e8582aa7e7edc9
      size: 779
    - path: src/chickenClassifier/pipeline/stage_01_data_ingestion.py
      md5: 197c8191285111433e32a0516caccd03
      size: 961
    outs:
    - path: artifacts/data_ingestion
      md5: 2abb59f83b743d7f29d8ec9479d0e229.dir
      size: 293906097
      nfiles: 8067
    - path: downloaded
      md5: 52badf93bf5970ae7b805c252d74f8a3.dir
      size: 219521
      nfiles: 1
  base_model:
    cmd: python src/chickenClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      md5: 6cba82c1e3a109a1e6e8582aa7e7edc9
      size: 779
    - path: src/chickenClassifier/pipeline/stage_02_prepare_base_model.py
      md5: c84f671c0c45bc5d8379bfb919ebdff0
      size: 1066
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      md5: a2b6d348e6253f8ece2e7b80a3a73570.dir
      size: 118255264
      nfiles: 2
  training:
    cmd: python src/chickenClassifier/pipeline/stage_03_training.py
    deps:
    - path: artifacts/data_ingestion
      md5: 2abb59f83b743d7f29d8ec9479d0e229.dir
      size: 293906097
      nfiles: 8067
    - path: artifacts/prepare_base_model
      md5: a2b6d348e6253f8ece2e7b80a3a73570.dir
      size: 118255264
      nfiles: 2
    - path: config/config.yaml
      md5: 6cba82c1e3a109a1e6e8582aa7e7edc9
      size: 779
    - path: src/chickenClassifier/components/callbacks.py
      md5: f699aa08be70896e864b85f16ab3a1d5
      size: 944
    - path: src/chickenClassifier/pipeline/stage_03_training.py
      md5: 075e2c25e36c66d711cd04e0acc5d563
      size: 1230
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 8
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      md5: 39c1c9e31b26f00e3975027a018c4ad5
      size: 59738928
  evaluation:
    cmd: python src/chickenClassifier/pipeline/stage_04_evaluation.py
    deps:
    - path: artifacts/data_ingestion
      md5: 2abb59f83b743d7f29d8ec9479d0e229.dir
      size: 293906097
      nfiles: 8067
    - path: artifacts/training/model.h5
      md5: 39c1c9e31b26f00e3975027a018c4ad5
      size: 59738928
    - path: config/config.yaml
      md5: 6cba82c1e3a109a1e6e8582aa7e7edc9
      size: 779
    - path: src/chickenClassifier/pipeline/stage_04_evaluation.py
      md5: fcebd4c33d6ca8af7ebe7dcd592eff72
      size: 912
    params:
      params.yaml:
        BATCH_SIZE: 8
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      md5: ac459c14fbed8dab0d72e8eeaa03e6fc
      size: 72
